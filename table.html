<!DOCTYPE html>
<html lang="ru">

<head>
    <title>Таблица великих людей</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/table.css">
</head>

<body>
    <div class="header">
		<a href="index.html" class="link">Основная страница</a>
		<a href="gyatt.html" class="link">Позиционирование элементов</a>
		<a href="table.html" class="link">Таблица</a>
	</div>
    <div class="content">
        <table id="UserContributions">
            <caption>Список моего вклада на вики</caption>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Статья</th>
                    <th>Период редактирования</th>
                    <th>Мой вклад</th>
                    <th>Ссылка на статью</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Сидорович</td>
                    <td>Май 2021 - сентябрь 2024</td>
                    <td>Расписывание игрового процесса, багов и недочётов, история разработки, загрузка скриншотов</td>
                    <td><a href=https://stalker.fandom.com/ru/wiki/%D0%A1%D0%B8%D0%B4%D0%BE%D1%80%D0%BE%D0%B2%D0%B8%D1%87>Сидорович</a></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>S.T.A.L.K.E.R.: Oblivion Lost/Скриншоты</td>
                    <td>Август 2023 - март 2024</td>
                    <td>Загрузка скриншотов и их инвентаризация</td>
                    <td><a href=https://stalker.fandom.com/ru/wiki/S.T.A.L.K.E.R.:_Oblivion_Lost/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%D1%8B>S.T.A.L.K.E.R.: Oblivion Lost/Скриншоты</a></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>S.T.A.L.K.E.R.: Тень Чернобыля/Скриншоты</td>
                    <td>Ноябрь 2023 - март 2024</td>
                    <td>Загрузка скриншотов их инвентаризация</td>
                    <td><a href=https://stalker.fandom.com/ru/wiki/S.T.A.L.K.E.R.:_%D0%A2%D0%B5%D0%BD%D1%8C_%D0%A7%D0%B5%D1%80%D0%BD%D0%BE%D0%B1%D1%8B%D0%BB%D1%8F/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%D1%8B>S.T.A.L.K.E.R.: Тень Чернобыля/Скриншоты</a></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>S.T.A.L.K.E.R.: Чистое Небо/Скриншоты</td>
                    <td>Август 2024 - октябрь 2024</td>
                    <td>Загрузка скриншотов их инвентаризация</td>
                    <td><a href=https://stalker.fandom.com/ru/wiki/S.T.A.L.K.E.R.:_%D0%A7%D0%B8%D1%81%D1%82%D0%BE%D0%B5_%D0%9D%D0%B5%D0%B1%D0%BE/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%D1%8B>S.T.A.L.K.E.R.: Чистое Небо/Скриншоты</a></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>S.T.A.L.K.E.R.: Legends of tde Zone Trilogy</td>
                    <td>30 июля 2024 - 12 августа 2024</td>
                    <td>Расписывание про новости, поддержку игры, добавление галереи</td>
                    <td><a href=https://stalker.fandom.com/ru/wiki/S.T.A.L.K.E.R.:_Legends_of_the_Zone_Trilogy>S.T.A.L.K.E.R.: Legends of the Zone Trilogy</a></td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Календари</th>
                    <td>28 июля 2024 - 5 ноября 2024</td>
                    <td>Добавление календарей на других языках, уточнение, исправление</td>
                    <td><a href=https://stalker.fandom.com/ru/wiki/%D0%9A%D0%B0%D0%BB%D0%B5%D0%BD%D0%B4%D0%B0%D1%80%D0%B8>Календари</a></td>
                </tr>          
            </tbody>
        </table>
        <div class="fill-content-form">
            <form id="addRecordForm">
                <div class="form-group">
                    <label for="ArticleName">Название статьи:</label>
                    <input type="text" id="ArticleName" name="ArticleName" required>
                </div>
                <div class="form-group">
                    <label for="EditPeriod">Период редактирования:</label>
                    <input type="text" id="EditPeriod" name="EditPeriod" required>
                </div>
                <div class="form-group">
                    <label for="Contribution">Внесённый вклад:</label>
                    <input type="text" id="Contribution" name="Contribution" required>
                </div>
                <div class="form-group">
                    <label for="url">Ссылка на статью:</label>
                    <input type="url" name="url" id="url" placeholder="https://example.com" pattern="https://.*" size="30" required>
                </div>
                <button type="submit">Добавить</button>
            </form>
        </div>
    </div>

    <script>

        document.getElementById("addRecordForm").addEventListener("submit", function (event) {

            event.preventDefault();

            // Вычисляем новый ID
            const lastRow = document.querySelector("#UserContributions tbody tr:last-child");
            let newId = 1; 
            if (lastRow) {
                const lastIdCell = lastRow.cells[0]; 
                newId = parseInt(lastIdCell.textContent) + 1; 
            }

            const ArticleName = document.getElementById("ArticleName").value;
            const EditPeriod = document.getElementById("EditPeriod").value;
            const Contribution = document.getElementById("Contribution").value;
            const rawurl = document.getElementById("url").value;
            const url = `<a href="${rawurl}">${ArticleName}</a>`;


            // Создаем новую строку таблицы
            const newRow = document.createElement("tr");
            newRow.innerHTML = `
            <td>${newId}</td>
            <td>${ArticleName}</td>
            <td>${EditPeriod}</td>
            <td>${Contribution}</td>
            <td>${url}</td>
        `;

            // Добавляем новую строку в тело таблицы
            document.querySelector("#UserContributions tbody").appendChild(newRow);

            // Сбрасываем поля формы
            document.getElementById("addRecordForm").reset();


            alert("Данные добавлены!");

        });
    </script>

</body>

</html>